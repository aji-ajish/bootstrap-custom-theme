(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/carousel-item","title":"Carousel Slide","parent":["bootstrap-custom-theme/carousel"],"category":"design","attributes":{"slideId":{"type":"string","default":""},"isActive":{"type":"boolean","default":false},"imageUrl":{"type":"string","default":""},"imageAlt":{"type":"string","default":""},"captionHeading":{"type":"string","default":""},"captionText":{"type":"string","default":""},"showCaption":{"type":"boolean","default":true}},"supports":{"html":false,"className":false}}'),a=window.wp.i18n,s=window.wp.components,o=window.wp.blockEditor,l=window.ReactJSXRuntime;(0,e.registerBlockType)(t.name,{...t,edit:function({attributes:e,setAttributes:t}){const{imageUrl:n,imageAlt:i,captionHeading:r,captionText:c,showCaption:d,isActive:u}=e,p=(0,o.useBlockProps)({className:"carousel-item "+(u?"active":"")});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(s.PanelBody,{title:(0,a.__)("Slide Settings"),children:[(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Show Slide"),checked:u,onChange:e=>t({isActive:e})}),(0,l.jsx)(s.MediaUploadCheck,{children:(0,l.jsx)(s.MediaUpload,{onSelect:e=>t({imageUrl:e.url,imageAlt:e.alt}),allowedTypes:["image"],render:({open:e})=>(0,l.jsx)(s.Button,{onClick:e,children:(0,a.__)("Select Slide Image")})})}),(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Show Caption"),checked:d,onChange:e=>t({showCaption:e})}),d&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.TextControl,{label:(0,a.__)("Caption Heading"),value:r,onChange:e=>t({captionHeading:e})}),(0,l.jsx)(s.TextControl,{label:(0,a.__)("Caption Text"),value:c,onChange:e=>t({captionText:e})})]})]})}),(0,l.jsxs)("div",{...p,children:[n?(0,l.jsx)("img",{src:n,alt:i,className:"d-block w-100"}):(0,l.jsx)("p",{children:(0,a.__)("Slide â€“ please choose image")}),d&&(r||c)&&(0,l.jsxs)("div",{className:"carousel-caption d-none d-md-block",children:[r&&(0,l.jsx)("h5",{children:r}),c&&(0,l.jsx)("p",{children:c})]})]})]})},save:function({attributes:e}){const{imageUrl:t,imageAlt:a,captionHeading:s,captionText:n,showCaption:i,isActive:r}=e,c=o.useBlockProps.save({className:"carousel-item "+(r?"active":"")});return(0,l.jsxs)("div",{...c,children:[t&&(0,l.jsx)("img",{src:t,alt:a,className:"d-block w-100"}),i&&(s||n)&&(0,l.jsxs)("div",{className:"carousel-caption d-none d-md-block",children:[s&&(0,l.jsx)("h5",{children:s}),n&&(0,l.jsx)("p",{children:n})]})]})}});const n=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/carousel","title":"Bootstrap Carousel","category":"design","icon":"slides","description":"Responsive Bootstrap carousel with multiple slides.","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","attributes":{"carouselId":{"type":"string","default":""},"showControls":{"type":"boolean","default":true},"showIndicators":{"type":"boolean","default":true},"autoplay":{"type":"boolean","default":false},"interval":{"type":"number","default":5000},"fade":{"type":"boolean","default":false},"darkVariant":{"type":"boolean","default":false},"refresh":{"type":"number","default":0}},"supports":{"html":false,"className":false}}'),i=window.wp.data,r=window.wp.element,c=["bootstrap-custom-theme/carousel-item"];(0,e.registerBlockType)(n.name,{...n,edit:({attributes:t,setAttributes:n,clientId:d})=>{const{carouselId:u,showControls:p,showIndicators:h,autoplay:g,interval:m,fade:x,darkVariant:b}=t,{insertBlocks:j}=(0,i.useDispatch)("core/block-editor"),w=(0,i.useSelect)((e=>e("core/block-editor").getBlocks(d)),[d]);return(0,r.useEffect)((()=>{u||n({carouselId:`carousel-${Math.random().toString(36).substr(2,9)}`})}),[u,n]),(0,l.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,l.jsx)(o.InspectorControls,{children:(0,l.jsxs)(s.PanelBody,{title:(0,a.__)("Carousel Settings"),children:[(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Show Controls"),checked:p,onChange:e=>n({showControls:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Show Indicators"),checked:h,onChange:e=>n({showIndicators:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Autoplay"),checked:g,onChange:e=>n({autoplay:e})}),g&&(0,l.jsx)(s.RangeControl,{label:(0,a.__)("Autoplay Interval (ms)"),value:m,onChange:e=>n({interval:e}),min:1e3,max:1e4,step:500}),(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Fade Transition"),checked:x,onChange:e=>n({fade:e})}),(0,l.jsx)(s.ToggleControl,{label:(0,a.__)("Dark Variant"),checked:b,onChange:e=>n({darkVariant:e})}),(0,l.jsx)(s.Button,{variant:"primary",onClick:()=>{const t=(0,e.createBlock)("bootstrap-custom-theme/carousel-item",{slideId:`slide-${Date.now()}`,isActive:0===w.length,imageUrl:"",imageAlt:"",captionHeading:"",captionText:"",showCaption:!0});console.log("Creating slide:",t),j(t,w.length,d)},style:{marginTop:"16px"},children:(0,a.__)("Add New Slide")})]})}),(0,l.jsx)("div",{className:"carousel "+(b?"carousel-dark":""),style:{border:"1px dashed #ccc",padding:"20px"},children:(0,l.jsx)(o.InnerBlocks,{allowedBlocks:c,templateLock:!1,renderAppender:!1})})]})},save:function({attributes:e}){const{carouselId:t,showControls:a,showIndicators:s,autoplay:n,interval:i,fade:r,darkVariant:c}=e,d={"data-bs-ride":n?"carousel":void 0,"data-bs-interval":n?i:void 0,"data-bs-pause":n?"hover":void 0};return(0,l.jsx)("div",{...o.useBlockProps.save(),children:(0,l.jsxs)("div",{id:t,className:`carousel slide ${r?"carousel-fade":""} ${c?"carousel-dark":""}`,...d,children:[s&&(0,l.jsx)("div",{className:"carousel-indicators",children:(0,l.jsx)(o.InnerBlocks.Content,{})}),(0,l.jsx)("div",{className:"carousel-inner",children:(0,l.jsx)(o.InnerBlocks.Content,{})}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{className:"carousel-control-prev",type:"button","data-bs-target":`#${t}`,"data-bs-slide":"prev",children:[(0,l.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,l.jsxs)("button",{className:"carousel-control-next",type:"button","data-bs-target":`#${t}`,"data-bs-slide":"next",children:[(0,l.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})]})})}})})();