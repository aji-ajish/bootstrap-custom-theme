(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/accordion","title":"Bootstrap Accordion","category":"custom-blocks","icon":"list-view","description":"A customizable Bootstrap accordion block","editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","attributes":{"accordionType":{"type":"string","default":"default"},"customId":{"type":"string","default":""},"customClass":{"type":"string","default":""}},"usesContext":["postId"],"providesContext":{"accordionId":"customId"},"supports":{"html":false,"className":false,"anchor":true}}'),s=window.wp.i18n,a=window.wp.components,l=window.wp.blockEditor,n=window.wp.data,c=window.wp.element,i=window.ReactJSXRuntime,r=["bootstrap-custom-theme/accordion-item"],d=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/accordion-item","title":"Accordion Item","parent":["bootstrap-custom-theme/accordion"],"attributes":{"title":{"type":"string","default":"Accordion Item"},"itemId":{"type":"string","default":""},"customClass":{"type":"string","default":""},"isOpen":{"type":"boolean","default":false}},"supports":{"html":false,"className":false,"inserter":false}}'),u=window.React;var p=e.n(u);(0,t.registerBlockType)(d.name,{...d,edit:({attributes:e,setAttributes:t,clientId:o})=>{const{title:c,itemId:r,isOpen:d,customClass:u}=e,{removeBlock:m}=(0,n.useDispatch)("core/block-editor");return p().useEffect((()=>{r||t({itemId:`accordion-item-${Math.random().toString(36).substr(2,9)}`})}),[r,t]),(0,i.jsxs)("div",{...(0,l.useBlockProps)(),children:[(0,i.jsx)(l.InspectorControls,{children:(0,i.jsxs)(a.PanelBody,{title:(0,s.__)("Item Settings"),children:[(0,i.jsx)(a.TextControl,{label:(0,s.__)("Title"),value:c,onChange:e=>t({title:e})}),(0,i.jsx)(a.TextControl,{label:(0,s.__)("Item ID"),value:r,onChange:e=>t({itemId:e}),help:(0,s.__)("Unique ID for this item (auto-generated if empty)")}),(0,i.jsx)(a.ToggleControl,{label:(0,s.__)("Open by default"),checked:d,onChange:()=>t({isOpen:!d})}),(0,i.jsx)(a.TextControl,{label:(0,s.__)("Custom Class"),value:u,onChange:e=>t({customClass:e})}),(0,i.jsx)(a.Button,{onClick:()=>{m(o)},style:{background:"red",color:"#fff"},children:"Remove"})]})}),(0,i.jsxs)("div",{className:"accordion-item-editor",children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,i.jsx)("button",{className:"accordion-button "+(d?"":"collapsed"),type:"button",style:{pointerEvents:"none"},children:c||(0,s.__)("New Tab")})}),(0,i.jsx)("div",{className:"accordion-collapse "+(d?"show":""),children:(0,i.jsx)("div",{className:"accordion-body",children:(0,i.jsx)(l.InnerBlocks,{template:[["core/paragraph",{placeholder:(0,s.__)("Accordion content goes here...")}]],renderAppender:l.InnerBlocks.ButtonBlockAppender})})})]})]})},save:({attributes:e})=>{const{title:t,itemId:o,customClass:s,isOpen:a}=e,n=`heading-${o}`,c=`collapse-${o}`;return(0,i.jsxs)("div",{className:`accordion-item ${s||""}`,children:[(0,i.jsx)("h2",{className:"accordion-header",id:n,children:(0,i.jsx)("button",{className:"accordion-button "+(a?"":"collapsed"),type:"button","data-bs-toggle":"collapse","data-bs-target":`#${c}`,"aria-expanded":a,"aria-controls":c,children:t})}),(0,i.jsx)("div",{id:c,className:"accordion-collapse collapse "+(a?"show":""),"aria-labelledby":n,children:(0,i.jsx)("div",{className:"accordion-body",children:(0,i.jsx)(l.InnerBlocks.Content,{})})})]})}}),(0,t.registerBlockType)(o.name,{...o,edit:({attributes:e,setAttributes:o,clientId:d})=>{const{accordionType:u,customId:p,customClass:m}=e,[h,b]=(0,c.useState)(null),{getBlocks:x}=(0,n.useSelect)("core/block-editor"),{replaceInnerBlocks:y}=(0,n.useDispatch)("core/block-editor"),f=x(d);return(0,c.useEffect)((()=>{if(p||o({customId:`accordion-${Math.random().toString(36).slice(2,11)}`}),0===f.length){const e=(0,t.createBlock)("bootstrap-custom-theme/accordion-item",{title:"Accordion Item #1",isOpen:"always-open"!==u,itemId:`item-${Date.now()}`});y(d,[e])}}),[]),(0,i.jsxs)("div",{...(0,l.useBlockProps)(),children:[(0,i.jsx)(l.InspectorControls,{children:(0,i.jsxs)(a.PanelBody,{title:(0,s.__)("Accordion Settings"),children:[(0,i.jsx)(a.SelectControl,{label:(0,s.__)("Accordion Type"),value:u,options:[{label:"Default",value:"default"},{label:"Flush",value:"flush"},{label:"Always Open",value:"always-open"}],onChange:e=>o({accordionType:e})}),(0,i.jsx)(a.TextControl,{label:"Custom ID",value:p,onChange:e=>o({customId:e})}),(0,i.jsx)(a.TextControl,{label:"Custom Class",value:m,onChange:e=>o({customClass:e})}),(0,i.jsx)(a.Button,{variant:"primary",onClick:()=>{const e=(0,t.createBlock)("bootstrap-custom-theme/accordion-item",{title:`Accordion Item #${f.length+1}`,isOpen:"always-open"===u,itemId:`item-${Date.now()}`});y(d,[...f,e])},style:{marginTop:10},children:(0,s.__)("Add New Item")})]})}),(0,i.jsx)("div",{className:"accordion-editor-block",children:(0,i.jsx)(l.InnerBlocks,{allowedBlocks:r,templateLock:!1,orientation:"vertical"})})]})},save:({attributes:e})=>{const{accordionType:t,customId:o,customClass:s}=e,a=["accordion","flush"===t?"accordion-flush":"",s||""].filter(Boolean).join(" "),n=o,c="always-open"===t;return(0,i.jsx)("div",{...l.useBlockProps.save(),children:(0,i.jsx)("div",{className:a,id:n,"data-always-open":c?"true":"false",children:(0,i.jsx)(l.InnerBlocks.Content,{})})})}})})();