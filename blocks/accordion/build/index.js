(()=>{"use strict";var e,o={10:()=>{const e=window.wp.blocks,o=window.wp.i18n,n=window.wp.element,t=window.wp.components,r=window.wp.blockEditor,c=window.ReactJSXRuntime,a=[{label:"Accordion",value:"accordion"},{label:"Collapse",value:"collapse"}];(0,e.registerBlockType)("bootstrap-custom-theme/accordion",{title:(0,o.__)("Accordion","bootstrap-custom-theme"),category:"custom-blocks",icon:"list-view",attributes:{accordionType:{type:"string",default:"accordion-flush"},numAccordions:{type:"number",default:1},accordionClass:{type:"string",default:""}},edit:function({attributes:e,setAttributes:o,isSelected:s,clientId:i}){const{accordionType:d,numAccordions:l,accordionClass:u,...p}=e,[m,h]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),[v,g]=(0,n.useState)({x:0,y:0}),y=(0,n.useRef)(null),f=(0,n.useRef)(!1),w=(0,n.useRef)({x:0,y:0}),j=(0,r.useBlockProps)();(0,n.useEffect)((()=>{const e=(window.innerWidth-400)/2,o=(window.innerHeight-300)/2;g({x:e,y:o});const n=()=>{g({x:e,y:o})};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)}),[]),(0,n.useEffect)((()=>{s&&!m&&(b(!0),h(!0))}),[s,m]),(0,n.useEffect)((()=>{if(!x)return;const e=e=>{if(e.target!==y.current.querySelector(".popup-header"))return;f.current=!0;const o=y.current.getBoundingClientRect();w.current={x:e.clientX-o.left,y:e.clientY-o.top},document.body.style.userSelect="none"},o=e=>{f.current&&g({x:e.clientX-w.current.x,y:e.clientY-w.current.y})},n=()=>{f.current=!1,document.body.style.userSelect=""};return document.addEventListener("mousedown",e),document.addEventListener("mousemove",o),document.addEventListener("mouseup",n),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",n),document.body.style.userSelect=""}}),[x]);const C=e=>p[`accordionHeading${e}`]||`Accordion ${e+1}`;return(0,c.jsxs)("div",{style:{position:"relative"},"data-block-id":i,...j,children:[(0,c.jsx)(t.Button,{variant:"secondary",style:{position:"absolute",top:"0px",right:"-40px",zIndex:10},onClick:()=>b(!0),children:"⚙️"}),x&&(0,c.jsxs)("div",{ref:y,style:{position:"fixed",left:`${v.x}px`,top:`${v.y}px`,width:"400px",background:"#fff",border:"1px solid #ccc",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.2)",zIndex:9999},children:[(0,c.jsx)("div",{className:"popup-header",style:{background:"#f1f1f1",padding:"10px",cursor:"move",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",fontWeight:"bold",borderBottom:"1px solid #ccc",userSelect:"none"},children:"Accordion Block Settings"}),(0,c.jsxs)("div",{style:{padding:"15px"},children:[(0,c.jsx)(t.SelectControl,{label:"Accordion Type",value:d,options:a,onChange:e=>o({accordionType:e})}),(0,c.jsx)(t.TextControl,{label:"Number of Accordions",value:l,type:"number",onChange:e=>o({numAccordions:parseInt(e)})}),(0,c.jsx)(t.TextControl,{label:"Custom Accordion Class",value:u,onChange:e=>o({accordionClass:e})}),(0,c.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,c.jsx)(t.Button,{variant:"primary",onClick:()=>{b(!1)},children:"Save"})," ",(0,c.jsx)(t.Button,{variant:"secondary",onClick:()=>b(!1),children:"Close"})]})]})]}),(0,c.jsx)("div",{className:`accordion ${u}`,id:`accordion-${i}`,children:[...Array(parseInt(l))].map(((e,n)=>(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("h2",{className:"accordion-header",id:`heading-${n}`,children:(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":d,"data-bs-target":`#collapse-${n}`,"aria-expanded":"true","aria-controls":`collapse-${n}`,children:(0,c.jsx)(t.TextControl,{label:`Accordion ${n+1} Heading`,value:C(n),onChange:e=>((e,n)=>{o({[`accordionHeading${e}`]:n})})(n,e)})})}),(0,c.jsx)("div",{id:`collapse-${n}`,className:"accordion-collapse collapse show","aria-labelledby":`heading-${n}`,"data-bs-parent":`#accordion-${i}`,children:(0,c.jsx)("div",{className:"accordion-body",children:(0,c.jsx)(r.InnerBlocks,{allowedBlocks:["core/paragraph","core/image","core/heading","core/list"],template:[["core/paragraph",{}]]})})})]},n)))})]})},save:function({attributes:e}){const{accordionType:o,numAccordions:n,accordionClass:t,...a}=e,s=[];for(let o=0;o<n;o++)s.push((0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("h2",{className:"accordion-header",id:`heading${o}`,children:(0,c.jsx)("button",{className:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${o}`,"aria-expanded":"true","aria-controls":`collapse${o}`,children:e[`accordionHeading${o}`]||`Accordion ${o+1}`})}),(0,c.jsx)("div",{id:`collapse${o}`,className:"accordion-collapse collapse show","aria-labelledby":`heading${o}`,"data-bs-parent":"#accordionExample",children:(0,c.jsx)("div",{className:"accordion-body",children:(0,c.jsx)(r.InnerBlocks.Content,{})})})]},o));return(0,c.jsx)("div",{className:`accordion ${o} ${t}`,id:"accordionExample",children:s})}})}},n={};function t(e){var r=n[e];if(void 0!==r)return r.exports;var c=n[e]={exports:{}};return o[e](c,c.exports,t),c.exports}t.m=o,e=[],t.O=(o,n,r,c)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,r,c]=e[l],s=!0,i=0;i<n.length;i++)(!1&c||a>=c)&&Object.keys(t.O).every((e=>t.O[e](n[i])))?n.splice(i--,1):(s=!1,c<a&&(a=c));if(s){e.splice(l--,1);var d=r();void 0!==d&&(o=d)}}return o}c=c||0;for(var l=e.length;l>0&&e[l-1][2]>c;l--)e[l]=e[l-1];e[l]=[n,r,c]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,n)=>{var r,c,[a,s,i]=n,d=0;if(a.some((o=>0!==e[o]))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(i)var l=i(t)}for(o&&o(n);d<a.length;d++)c=a[d],t.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return t.O(l)},n=globalThis.webpackChunkbootstrap_custom_theme=globalThis.webpackChunkbootstrap_custom_theme||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))})();var r=t.O(void 0,[350],(()=>t(10)));r=t.O(r)})();