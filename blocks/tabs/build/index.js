(()=>{"use strict";const t=window.wp.blocks,e=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/tab-item","title":"Tab Item","parent":["bootstrap-custom-theme/tabs"],"category":"layout","icon":"welcome-widgets-menus","description":"Single tab panel with editable title and body","supports":{"html":false,"reusable":false},"attributes":{"title":{"type":"string","default":"Tab Title"},"tabId":{"type":"string"},"buttonId":{"type":"string"},"isActive":{"type":"boolean","default":false}},"editorScript":"file:../build/index.js"}'),a=window.wp.blockEditor,l=window.wp.element,s=window.ReactJSXRuntime;(0,t.registerBlockType)(e.name,{...e,edit:function({attributes:t,setAttributes:e,clientId:i}){const{tabId:n,tabLabel:o,isActive:r}=t;(0,l.useEffect)((()=>{if(!n){const t=i.replace(/[^a-zA-Z0-9_-]/g,"");e({tabId:t})}}),[n,i,e]);const c=`pane-${n}`,b=`tab-${n}`;return(0,s.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,s.jsx)(a.RichText,{tagName:"div",value:o,onChange:t=>e({tabLabel:t}),placeholder:"Tab Label"}),(0,s.jsx)("div",{id:c,className:"tab-pane fade"+(r?" show active":""),role:"tabpanel","aria-labelledby":b,children:(0,s.jsx)(a.InnerBlocks,{})})]})},save:function({attributes:t}){const{tabId:e,tabLabel:l,isActive:i}=t,n=`tab-${e}`,o=`pane-${e}`;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:"nav-item",role:"presentation",children:(0,s.jsx)("button",{className:"nav-link"+(i?" active":""),id:n,"data-bs-toggle":"tab","data-bs-target":`#${o}`,type:"button",role:"tab","aria-controls":o,"aria-selected":i?"true":"false",children:(0,s.jsx)(a.RichText.Content,{value:l})})}),(0,s.jsx)("div",{id:o,className:"tab-pane fade"+(i?" show active":""),role:"tabpanel","aria-labelledby":n,children:(0,s.jsx)(a.InnerBlocks.Content,{})})]})}});const i=JSON.parse('{"apiVersion":2,"name":"bootstrap-custom-theme/tabs","title":"Tabs","category":"layout","icon":"index-card","description":"A set of Bootstrap-style tabs","supports":{"html":false},"attributes":{"orientation":{"type":"string","default":"horizontal"},"style":{"type":"string","default":"tabs"}},"editorScript":"file:./build/index.js","style":"file:./style.css"}'),n=window.wp.components,o=window.wp.data;(0,t.registerBlockType)(i.name,{...i,edit:function({attributes:e,setAttributes:i,clientId:r}){const{orientation:c="horizontal",tabStyle:b="tabs"}=e,{insertBlock:d,updateBlockAttributes:p,removeBlock:u}=(0,o.useDispatch)("core/block-editor"),m=(0,o.useSelect)((t=>t("core/block-editor").getBlocks(r)));(0,l.useEffect)((()=>{if(!m.some((t=>t.attributes.isActive))){const t=m[0];t&&p(t.clientId,{isActive:!0})}}),[m]);const v=["nav","pills"===b?"nav-pills":"nav-tabs","vertical"===c?"flex-column":""].join(" ");return(0,s.jsxs)("div",{...(0,a.useBlockProps)(),children:[(0,s.jsx)(a.InspectorControls,{children:(0,s.jsx)(n.PanelBody,{title:"Tab Settings",initialOpen:!0,children:(0,s.jsxs)(n.__experimentalVStack,{spacing:3,children:[(0,s.jsx)(n.SelectControl,{label:"Tab Style",value:b,options:[{label:"Tabs",value:"tabs"},{label:"Pills",value:"pills"}],onChange:t=>i({tabStyle:t})}),(0,s.jsx)(n.SelectControl,{label:"Orientation",value:c,options:[{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"}],onChange:t=>i({orientation:t})}),(0,s.jsx)(n.Button,{variant:"primary",onClick:()=>{const e=m.length+1,a=`${r}-${Date.now()}`,l=(0,t.createBlock)("bootstrap-custom-theme/tab-item",{tabId:a,tabLabel:`Tab ${e}`,isActive:!1});d(l,m.length,r);const s=(0,t.createBlock)("core/paragraph",{content:`This is Tab ${e}`});d(s,0,l.clientId)},style:{marginTop:"10px"},children:"+ Add New Tab"})]})})}),(0,s.jsx)("ul",{className:v,role:"tablist",children:m.map(((t,e)=>{const{tabId:a,tabLabel:l,isActive:i}=t.attributes,o=`tab-${a}`,r=`pane-${a}`;return(0,s.jsxs)("li",{className:"nav-item d-flex align-items-center",children:[(0,s.jsx)("button",{className:"nav-link"+(i?" active":""),id:o,"data-bs-toggle":"tab","data-bs-target":`#${r}`,type:"button",role:"tab","aria-controls":r,"aria-selected":i?"true":"false",children:l||`Tab ${e+1}`}),(0,s.jsx)(n.Button,{variant:"link",onClick:()=>(t=>{u(t)})(t.clientId),className:"text-danger ms-2","aria-label":"Remove tab",children:"âœ•"})]},t.clientId)}))}),(0,s.jsx)("div",{className:"tab-content",children:(0,s.jsx)(a.InnerBlocks,{allowedBlocks:["bootstrap-custom-theme/tab-item"],orientation:"vertical"})})]})},save:function({attributes:t}){const{orientation:e,tabStyle:l}=t,i=["nav","pills"===l?"nav-pills":"nav-tabs","vertical"===e?"flex-column":""].filter(Boolean).join(" ");return(0,s.jsxs)("div",{...a.useBlockProps.save(),children:[(0,s.jsx)("ul",{className:i,role:"tablist",children:(0,s.jsx)(a.InnerBlocks.Content,{})}),(0,s.jsx)("div",{className:"tab-content",children:(0,s.jsx)(a.InnerBlocks.Content,{})})]})}})})();